# ZeroDust Client

The `ZeroDust` class is the primary SDK entry point for wallet integrations.

## Methods

### `getChains()`

Get all supported chains.

```typescript
const chains = await zerodust.getChains();
// Returns: Chain[]
```

Each chain has:
- `chainId` - Chain ID (e.g., 8453 for Base)
- `name` - Human-readable name
- `nativeToken` - Token symbol (e.g., "ETH")
- `contractAddress` - ZeroDust contract address
- `enabled` - Whether currently active

### `getBalances(address)`

Get balances across all chains for an address.

```typescript
const balances = await zerodust.getBalances('0x...');
const sweepable = balances.chains.filter(b => b.canSweep);
```

Each balance has:
- `chainId`, `name`, `nativeToken`
- `balance` - Raw balance in wei
- `balanceFormatted` - Human-readable balance
- `canSweep` - Whether the balance is sufficient to sweep

### `getQuote(params)`

Get a quote for sweeping. Quotes expire in 60 seconds.

```typescript
const quote = await zerodust.getQuote({
  fromChainId: 42161,   // Arbitrum
  toChainId: 8453,      // Base
  userAddress: '0x...',
  destination: '0x...',
});
```

Returns:
- `quoteId` - Use this to create authorization and submit sweep
- `userBalance` - Current balance in wei
- `estimatedReceive` - Estimated amount user will receive
- `mode` - `0` for same-chain, `1` for cross-chain
- `fees` - Fee breakdown including `maxTotalFeeWei`
- `validForSeconds` - Time until quote expires

### `createAuthorization(quoteId)`

Create the EIP-712 typed data for signing.

```typescript
const { typedData, contractAddress } = await zerodust.createAuthorization(
  quote.quoteId
);
```

Returns:
- `typedData` - EIP-712 typed data to sign with the user's wallet
- `contractAddress` - Address for EIP-7702 delegation

### `submitSweep(request)`

Submit a signed sweep for execution.

```typescript
const sweep = await zerodust.submitSweep({
  quoteId: quote.quoteId,
  signature,
  eip7702Authorization: {
    chainId: 42161,
    contractAddress: '0x...',
    nonce: 0,
    yParity: 0,
    r: '0x...',
    s: '0x...',
  },
});
```

### `getSweepStatus(sweepId)`

Check the status of a sweep.

```typescript
const status = await zerodust.getSweepStatus(sweep.sweepId);
// status.status: 'pending' | 'simulating' | 'executing' | 'bridging' | 'completed' | 'failed'
```

### `waitForSweep(sweepId, options?)`

Poll until sweep reaches a terminal state.

```typescript
const result = await zerodust.waitForSweep(sweep.sweepId, {
  intervalMs: 2000,    // polling interval (default: 2000)
  timeoutMs: 120000,   // timeout (default: 120000)
  onStatusChange: (s) => console.log(s.status),
});
```

### `getSweeps(address, options?)`

List past sweeps for an address.

```typescript
const { sweeps, total } = await zerodust.getSweeps('0x...', {
  limit: 10,
  offset: 0,
  status: 'completed',
});
```
