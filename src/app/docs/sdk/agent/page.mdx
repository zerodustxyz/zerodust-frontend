# ZeroDust Agent

The `ZeroDustAgent` class provides a high-level interface for AI agents and automated systems. It handles all signing automatically.

## Setup

```typescript
import { createAgentFromPrivateKey } from '@zerodust/sdk';

const agent = createAgentFromPrivateKey('0xYourPrivateKey...', {
  environment: 'mainnet',
});
```

## Methods

### `sweep(request)`

Execute a complete sweep in one call. Handles quoting, signing, submitting, and waiting for completion.

```typescript
const result = await agent.sweep({
  fromChainId: 42161,   // Arbitrum
  toChainId: 8453,      // Base
  destination: '0x...',  // Where to send funds
});

console.log(result.sweepId);
console.log(result.status);   // 'completed'
console.log(result.txHash);
```

### `batchSweep(request)`

Sweep multiple chains in one call.

```typescript
const result = await agent.batchSweep({
  chains: [42161, 137, 56],  // Arbitrum, Polygon, BSC
  toChainId: 8453,           // All to Base
  destination: '0x...',
});

console.log(result.results);
// [
//   { chainId: 42161, status: 'completed', sweepId: '...' },
//   { chainId: 137, status: 'completed', sweepId: '...' },
//   { chainId: 56, status: 'completed', sweepId: '...' },
// ]
```

### `getBalances()`

Check balances for the agent's address across all chains.

```typescript
const balances = await agent.getBalances();
const sweepable = balances.chains.filter(b => b.canSweep);
```

### `getSweepableChains()`

Get only chains with sweepable balances.

```typescript
const chains = await agent.getSweepableChains();
// Returns ChainBalance[] where canSweep is true
```

## Options

The `sweep()` and `batchSweep()` methods accept optional options:

```typescript
const result = await agent.sweep({
  fromChainId: 42161,
  toChainId: 8453,
  destination: '0x...',
}, {
  waitForCompletion: true,  // Wait for sweep to complete (default: true)
  timeoutMs: 120000,        // Timeout for waiting (default: 120000)
  onStatusChange: (status) => console.log(status.status),
});
```
