# Getting Started

## Install the SDK

```bash
npm install @zerodust/sdk viem
```

## Quick example

```typescript
import { ZeroDust } from '@zerodust/sdk';

const zerodust = new ZeroDust({ environment: 'mainnet' });

// 1. Check balances across all chains
const balances = await zerodust.getBalances('0xYourAddress...');
const sweepable = balances.chains.filter(b => b.canSweep);

console.log('Sweepable chains:', sweepable.map(b =>
  `${b.name}: ${b.balanceFormatted} ${b.nativeToken}`
));

// 2. Get a quote (Arbitrum â†’ Base)
const quote = await zerodust.getQuote({
  fromChainId: 42161,  // Arbitrum
  toChainId: 8453,     // Base
  userAddress: '0xYourAddress...',
  destination: '0xDestination...',
});

console.log('Estimated receive:', quote.estimatedReceive, 'wei');
console.log('Max fee:', quote.fees.maxTotalFeeWei, 'wei');

// 3. Create authorization (get typed data for signing)
const { typedData, contractAddress } = await zerodust.createAuthorization(
  quote.quoteId
);

// 4. Sign with wallet (viem example)
import { createWalletClient, http } from 'viem';
import { privateKeyToAccount } from 'viem/accounts';
import { arbitrum } from 'viem/chains';

const account = privateKeyToAccount('0xPrivateKey...');
const walletClient = createWalletClient({
  account,
  chain: arbitrum,
  transport: http(),
});

// Sign EIP-712 sweep intent
const signature = await walletClient.signTypedData({
  domain: typedData.domain,
  types: typedData.types,
  primaryType: typedData.primaryType,
  message: typedData.message,
});

// Sign EIP-7702 authorization
const authorization = await walletClient.signAuthorization({
  contractAddress,
});

// 5. Submit the sweep
const sweep = await zerodust.submitSweep({
  quoteId: quote.quoteId,
  signature,
  eip7702Authorization: {
    chainId: authorization.chainId,
    contractAddress,
    nonce: authorization.nonce,
    yParity: authorization.yParity as 0 | 1,
    r: authorization.r,
    s: authorization.s,
  },
});

// 6. Wait for completion
const result = await zerodust.waitForSweep(sweep.sweepId, {
  onStatusChange: (status) => console.log('Status:', status.status),
});

console.log('Done! TX:', result.txHash);
```

## AI Agent quickstart

If you're building an AI agent, use the `ZeroDustAgent` class for automatic signing:

```typescript
import { createAgentFromPrivateKey } from '@zerodust/sdk';

const agent = createAgentFromPrivateKey('0xPrivateKey...', {
  environment: 'mainnet',
});

// One-line sweep
const result = await agent.sweep({
  fromChainId: 42161,
  toChainId: 8453,
  destination: '0xDestination...',
});

console.log('Swept!', result.sweepId);
```
