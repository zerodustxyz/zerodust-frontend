@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 250 248 245;
    --foreground: 24 24 27;
    --surface: 255 255 255;
    --elevated: 245 241 234;
    --primary: 23 59 12;
    --primary-foreground: 255 255 255;
    --secondary: 196 180 154;
    --muted: 161 161 170;
    --border: 235 228 216;
    --success: 23 59 12;
    --warning: 245 158 11;
    --error: 244 63 94;
  }

  .dark {
    --background: 18 17 15;
    --foreground: 250 248 245;
    --surface: 28 26 23;
    --elevated: 38 35 31;
    --primary: 45 90 26;
    --primary-foreground: 255 255 255;
    --secondary: 196 180 154;
    --muted: 120 115 108;
    --border: 55 50 45;
    --success: 45 90 26;
    --warning: 245 158 11;
    --error: 244 63 94;
  }

  * {
    @apply border-light-border;
  }

  .dark * {
    @apply border-dark-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-sand-50 text-zinc-900 dark:bg-dark-bg dark:text-zinc-100;
    @apply antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Selection - updated to emerald */
  ::selection {
    @apply bg-brand-primary/20 text-zinc-900 dark:text-zinc-100;
  }
}

@layer components {
  /* ========================================
     CARD VARIANTS - Premium glassmorphism
     ======================================== */
  .card {
    @apply bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-2xl;
  }

  .card-elevated {
    @apply bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-2xl;
    @apply shadow-card dark:shadow-card-dark;
  }

  /* Premium glass card with depth */
  .glass-card {
    @apply relative overflow-hidden;
    @apply bg-white/70 dark:bg-zinc-900/70 backdrop-blur-xl;
    @apply border border-white/20 dark:border-white/10 rounded-2xl;
    @apply shadow-[0_8px_32px_rgba(0,0,0,0.08)] dark:shadow-[0_8px_32px_rgba(0,0,0,0.3)];
    @apply transition-all duration-300 ease-out;
  }

  .glass-card::before {
    content: '';
    @apply absolute inset-0 rounded-2xl opacity-50;
    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%);
    pointer-events: none;
  }

  .glass-card:hover {
    @apply shadow-[0_12px_32px_rgba(0,0,0,0.08)] dark:shadow-[0_12px_32px_rgba(0,0,0,0.25)];
    @apply border-brand-primary/25 dark:border-brand-primary/30;
    transform: translateY(-2px);
  }

  /* Main sweep card - extra premium */
  .sweep-card {
    @apply relative overflow-visible;
    @apply bg-white/95 dark:bg-zinc-900/95 backdrop-blur-2xl;
    @apply border border-zinc-200/80 dark:border-zinc-800/80 rounded-3xl;
    @apply shadow-[0_20px_60px_-12px_rgba(0,0,0,0.15)] dark:shadow-[0_20px_60px_-12px_rgba(0,0,0,0.5)];
    @apply transition-all duration-500 ease-out;
  }

  .sweep-card::before {
    content: '';
    @apply absolute inset-0 rounded-3xl;
    background: linear-gradient(135deg, rgba(23,59,12,0.03) 0%, rgba(23,59,12,0.01) 100%);
    pointer-events: none;
  }

  /* Sweep card entrance animation */
  .sweep-card-enter {
    animation: sweepCardEnter 0.6s ease-out forwards;
  }

  @keyframes sweepCardEnter {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Gradient border card */
  .gradient-border-card {
    @apply relative p-[1px] rounded-3xl overflow-hidden;
    background: linear-gradient(135deg, rgba(23,59,12,0.5) 0%, rgba(45,90,26,0.5) 100%);
  }

  .gradient-border-card > * {
    @apply bg-light-surface dark:bg-dark-surface rounded-[calc(1.5rem-1px)];
  }

  /* ========================================
     GRADIENT TEXT
     ======================================== */
  .gradient-text {
    @apply bg-gradient-brand bg-clip-text text-transparent;
  }

  .gradient-text-vibrant {
    @apply bg-gradient-brand-vibrant bg-clip-text text-transparent;
  }

  .gradient-text-animated {
    background: linear-gradient(135deg, #2D5A1A 0%, #173B0C 50%, #2D5A1A 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-shift 4s ease infinite;
  }

  @keyframes gradient-shift {
    0%, 100% { background-position: 0% center; }
    50% { background-position: 100% center; }
  }

  /* ========================================
     BUTTONS - Premium with glow effects
     ======================================== */
  .btn {
    @apply inline-flex items-center justify-center gap-2;
    @apply font-semibold transition-all duration-200;
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-primary focus-visible:ring-offset-2;
    @apply focus-visible:ring-offset-light-bg dark:focus-visible:ring-offset-dark-bg;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none;
  }

  .btn-primary {
    @apply btn py-3 px-6 rounded-xl;
    @apply bg-gradient-brand text-white;
    @apply shadow-soft;
    @apply hover:shadow-soft-lg hover:scale-[1.01];
    @apply active:scale-[0.99] active:shadow-button-active;
  }

  .btn-primary-lg {
    @apply btn py-4 px-8 rounded-2xl text-lg;
    @apply bg-gradient-brand text-white;
    @apply shadow-soft-lg;
    @apply hover:shadow-soft-xl hover:scale-[1.01];
    @apply active:scale-[0.99];
  }

  /* Elevated button for CTAs */
  .btn-elevated {
    @apply btn py-4 px-8 rounded-2xl text-lg font-bold;
    @apply bg-gradient-brand text-white;
    @apply shadow-soft-lg;
    @apply hover:shadow-soft-xl hover:scale-[1.02];
    @apply active:scale-[0.99];
  }

  .btn-secondary {
    @apply btn py-3 px-6 rounded-xl;
    @apply bg-transparent border-2 border-brand-primary/30 text-brand-primary;
    @apply hover:bg-brand-primary/10 hover:border-brand-primary/50;
    @apply dark:border-brand-primary/40 dark:hover:border-brand-primary/60;
  }

  .btn-ghost {
    @apply btn py-2 px-4 rounded-lg;
    @apply bg-transparent text-zinc-600 dark:text-zinc-400;
    @apply hover:bg-light-elevated dark:hover:bg-dark-elevated;
    @apply hover:text-zinc-900 dark:hover:text-zinc-100;
  }

  .btn-icon {
    @apply btn p-3 rounded-xl;
    @apply bg-white/50 dark:bg-zinc-800/50 backdrop-blur-sm;
    @apply border border-zinc-200/50 dark:border-zinc-700/50;
    @apply text-zinc-600 dark:text-zinc-400;
    @apply hover:text-brand-primary dark:hover:text-brand-light;
    @apply hover:bg-white dark:hover:bg-zinc-800;
    @apply hover:border-brand-primary/30 dark:hover:border-brand-primary/40;
    @apply hover:shadow-md hover:scale-105;
  }

  /* Social icon buttons - larger touch targets */
  .btn-social {
    @apply btn p-3 rounded-xl min-w-[44px] min-h-[44px];
    @apply bg-white/60 dark:bg-zinc-800/60 backdrop-blur-sm;
    @apply border border-zinc-200/50 dark:border-zinc-700/50;
    @apply text-zinc-600 dark:text-zinc-400;
    @apply hover:text-brand-primary dark:hover:text-brand-light;
    @apply hover:bg-brand-primary/10 dark:hover:bg-brand-primary/20;
    @apply hover:border-brand-primary/40;
    @apply hover:shadow-lg hover:shadow-brand-primary/10;
    @apply hover:scale-110;
    @apply transition-all duration-300;
  }

  /* ========================================
     INPUT FIELDS - Modern styling
     ======================================== */
  .input-field {
    @apply w-full px-4 py-3 rounded-xl;
    @apply bg-zinc-100/50 dark:bg-zinc-800/50;
    @apply border border-zinc-200/50 dark:border-zinc-700/50;
    @apply text-zinc-900 dark:text-zinc-100;
    @apply placeholder:text-zinc-400 dark:placeholder:text-zinc-500;
    @apply focus:outline-none focus:ring-2 focus:ring-brand-primary/30 focus:border-brand-primary/50;
    @apply focus:bg-white dark:focus:bg-zinc-800;
    @apply transition-all duration-200;
  }

  .input-field-lg {
    @apply input-field py-4 text-lg;
  }

  /* ========================================
     BADGES - Updated colors
     ======================================== */
  .badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold;
    @apply backdrop-blur-sm;
  }

  .badge-primary {
    @apply badge bg-brand-primary/15 text-brand-primary border border-brand-primary/25;
  }

  .badge-success {
    @apply badge bg-emerald-500/15 text-emerald-600 dark:text-emerald-400 border border-emerald-500/20;
  }

  .badge-warning {
    @apply badge bg-amber-500/15 text-amber-600 dark:text-amber-400 border border-amber-500/20;
  }

  .badge-error {
    @apply badge bg-rose-500/15 text-rose-600 dark:text-rose-400 border border-rose-500/20;
  }

  .badge-muted {
    @apply badge bg-zinc-500/10 text-zinc-600 dark:text-zinc-400 border border-zinc-500/15;
  }

  /* ========================================
     CHAIN SELECTION
     ======================================== */
  .chain-item {
    @apply w-full flex items-center justify-between p-4 rounded-2xl;
    @apply bg-zinc-100/50 dark:bg-zinc-800/30;
    @apply border-2 border-transparent;
    @apply transition-all duration-200;
    @apply hover:bg-white dark:hover:bg-zinc-800/60;
    @apply hover:border-brand-primary/20 hover:shadow-md;
  }

  .chain-item-selected {
    @apply chain-item;
    @apply bg-brand-primary/10;
    @apply border-brand-primary/40 dark:border-brand-primary/50;
    @apply shadow-soft;
    @apply hover:border-brand-primary/50;
  }

  .chain-item-disabled {
    @apply chain-item opacity-40 cursor-not-allowed;
    @apply hover:border-transparent hover:bg-zinc-100/50 dark:hover:bg-zinc-800/30 hover:shadow-none;
  }

  /* ========================================
     SECTIONS
     ======================================== */
  .section {
    @apply py-20 md:py-28;
  }

  .section-header {
    @apply text-center mb-16;
  }

  .section-title {
    @apply text-4xl md:text-5xl font-bold mb-6 tracking-tight;
  }

  .section-description {
    @apply text-lg md:text-xl text-zinc-600 dark:text-zinc-400 max-w-2xl mx-auto leading-relaxed;
  }

  /* Section label - improved visibility */
  .section-label {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-full;
    @apply bg-brand-primary/10 text-brand-primary;
    @apply border border-brand-primary/20;
    @apply text-sm font-semibold mb-4;
  }

  /* ========================================
     STATUS INDICATORS
     ======================================== */
  .status-dot {
    @apply w-2.5 h-2.5 rounded-full;
  }

  .status-dot-success {
    @apply status-dot bg-brand-primary;
  }

  .status-dot-warning {
    @apply status-dot bg-amber-500;
  }

  .status-dot-error {
    @apply status-dot bg-rose-500;
  }

  .status-dot-muted {
    @apply status-dot bg-zinc-400;
  }

  /* Animated pulse dot */
  .status-dot-pulse {
    @apply relative;
  }

  .status-dot-pulse::after {
    content: '';
    @apply absolute inset-0 rounded-full;
    animation: pulse-ring 1.5s ease-out infinite;
  }

  .status-dot-pulse.status-dot-success::after {
    @apply bg-emerald-500;
  }

  @keyframes pulse-ring {
    0% { transform: scale(1); opacity: 0.5; }
    100% { transform: scale(2.5); opacity: 0; }
  }

  /* ========================================
     NOTICES/ALERTS
     ======================================== */
  .notice {
    @apply p-4 rounded-2xl border backdrop-blur-sm;
  }

  .notice-info {
    @apply notice bg-brand-primary/5 border-brand-primary/20;
  }

  .notice-success {
    @apply notice bg-emerald-500/5 border-emerald-500/20;
  }

  .notice-warning {
    @apply notice bg-amber-500/5 border-amber-500/20;
  }

  .notice-error {
    @apply notice bg-rose-500/5 border-rose-500/20;
  }

  /* ========================================
     LOADING STATES
     ======================================== */
  .skeleton {
    @apply bg-zinc-200 dark:bg-zinc-800 rounded-lg;
    @apply animate-pulse;
  }

  .skeleton-shimmer {
    @apply relative overflow-hidden bg-zinc-200 dark:bg-zinc-800 rounded-lg;
  }

  .skeleton-shimmer::after {
    content: '';
    @apply absolute inset-0;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
    animation: shimmer 1.5s ease-in-out infinite;
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  /* ========================================
     ANIMATED BACKGROUNDS
     ======================================== */
  .animated-bg-gradient {
    @apply fixed inset-0 -z-10 overflow-hidden;
  }

  .animated-orb {
    @apply absolute rounded-full blur-3xl opacity-20 dark:opacity-15;
    animation: float-orb 25s ease-in-out infinite;
  }

  .animated-orb-1 {
    @apply w-[600px] h-[600px] bg-sand-300;
    top: -200px;
    left: -100px;
    animation-delay: 0s;
  }

  .animated-orb-2 {
    @apply w-[500px] h-[500px] bg-sand-200;
    top: 50%;
    right: -150px;
    animation-delay: -5s;
  }

  .animated-orb-3 {
    @apply w-[400px] h-[400px] bg-sand-300;
    bottom: -100px;
    left: 30%;
    animation-delay: -10s;
  }

  @keyframes float-orb {
    0%, 100% { transform: translate(0, 0) scale(1); }
    25% { transform: translate(30px, -30px) scale(1.05); }
    50% { transform: translate(-20px, 20px) scale(0.95); }
    75% { transform: translate(-30px, -20px) scale(1.02); }
  }

  /* Grid background pattern */
  .grid-pattern {
    background-image:
      linear-gradient(rgba(196,180,154,0.08) 1px, transparent 1px),
      linear-gradient(90deg, rgba(196,180,154,0.08) 1px, transparent 1px);
    background-size: 60px 60px;
  }

  .dark .grid-pattern {
    background-image:
      linear-gradient(rgba(196,180,154,0.06) 1px, transparent 1px),
      linear-gradient(90deg, rgba(196,180,154,0.06) 1px, transparent 1px);
  }

  /* ========================================
     STEP CARDS FOR "HOW IT WORKS"
     ======================================== */
  .step-card {
    @apply relative rounded-2xl;
    @apply bg-white/60 dark:bg-zinc-900/60 backdrop-blur-sm;
    @apply border border-zinc-200/50 dark:border-zinc-800/50;
    @apply transition-all duration-300 ease-out;
  }

  .step-card:hover {
    @apply bg-white/90 dark:bg-zinc-900/90;
    @apply border-brand-primary/40 dark:border-brand-primary/50;
    @apply shadow-xl shadow-brand-primary/10;
    transform: translateY(-4px);
  }

  /* Mobile-specific step card adjustments */
  @media (max-width: 1023px) {
    .step-card {
      @apply bg-white/70 dark:bg-zinc-900/70;
    }
    .step-card:hover {
      transform: translateY(0);
      @apply shadow-md shadow-brand-primary/5;
    }
  }

  .step-number {
    @apply rounded-xl;
    @apply bg-gradient-brand text-white;
    @apply flex items-center justify-center;
    @apply font-bold;
    @apply shadow-soft;
    @apply transition-all duration-300;
  }

  .step-card:hover .step-number {
    @apply shadow-soft-lg;
    transform: scale(1.03);
  }

  /* Step connector lines */
  .step-connector {
    @apply absolute h-0.5 bg-gradient-to-r from-brand-primary/30 via-brand-secondary/20 to-brand-primary/30;
    @apply hidden lg:block;
  }

  .step-connector-vertical {
    @apply absolute w-0.5 bg-gradient-to-b from-brand-primary/30 via-brand-secondary/20 to-brand-primary/30;
    @apply lg:hidden;
  }

  /* ========================================
     CHAIN LOGOS/ICONS
     ======================================== */
  .chain-icon {
    @apply w-10 h-10 rounded-full flex items-center justify-center;
    @apply transition-all duration-200;
  }

  .chain-icon-sm {
    @apply w-6 h-6 rounded-full;
  }

  .chain-icon-lg {
    @apply w-14 h-14 rounded-xl;
  }

  /* ========================================
     FEATURE CARDS - Enhanced hover
     ======================================== */
  .feature-card {
    @apply relative overflow-hidden;
    @apply bg-white/70 dark:bg-zinc-900/70 backdrop-blur-xl;
    @apply border border-white/20 dark:border-white/10 rounded-2xl;
    @apply shadow-[0_8px_32px_rgba(0,0,0,0.08)] dark:shadow-[0_8px_32px_rgba(0,0,0,0.3)];
    @apply transition-all duration-300 ease-out;
  }

  .feature-card::before {
    content: '';
    @apply absolute inset-0 rounded-2xl opacity-0;
    background: linear-gradient(135deg, rgba(23,59,12,0.05) 0%, rgba(23,59,12,0.02) 100%);
    pointer-events: none;
    transition: opacity 0.3s ease;
  }

  .feature-card:hover::before {
    opacity: 1;
  }

  .feature-card:hover {
    @apply shadow-[0_12px_36px_rgba(0,0,0,0.1)] dark:shadow-[0_12px_36px_rgba(0,0,0,0.25)];
    @apply border-brand-primary/25 dark:border-brand-primary/35;
    transform: translateY(-4px);
  }

  .feature-card-icon {
    @apply w-12 h-12 rounded-xl bg-gradient-brand flex items-center justify-center flex-shrink-0;
    @apply shadow-soft-lg;
    @apply transition-all duration-300;
  }

  .feature-card:hover .feature-card-icon {
    @apply shadow-soft-xl;
    transform: scale(1.05);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Gradient border effect */
  .gradient-border {
    @apply relative;
  }
  .gradient-border::before {
    content: '';
    @apply absolute inset-0 rounded-2xl p-px;
    background: linear-gradient(135deg, #173B0C 0%, #2D5A1A 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  /* Animated gradient background */
  .animated-gradient-bg {
    background-size: 200% 200%;
    animation: gradient 8s ease infinite;
  }

  /* Glow effect on hover */
  .glow-hover {
    @apply transition-all duration-300;
  }
  .glow-hover:hover {
    @apply shadow-glow;
    filter: brightness(1.05);
  }

  /* Lift on hover */
  .lift-hover {
    @apply transition-all duration-300;
  }
  .lift-hover:hover {
    transform: translateY(-4px);
    @apply shadow-xl;
  }

  /* Glass effect utility */
  .glass {
    @apply bg-white/70 dark:bg-zinc-900/70 backdrop-blur-xl;
    @apply border border-white/20 dark:border-white/10;
  }

  /* Gradient shadow */
  .gradient-shadow {
    box-shadow: 0 16px 32px -8px rgba(0, 0, 0, 0.12);
  }

  /* Text shadow for headings - subtle */
  .text-emphasis {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  /* Improved body text readability */
  .text-body {
    @apply text-zinc-600 dark:text-zinc-300;
  }

  .text-body-muted {
    @apply text-zinc-500 dark:text-zinc-400;
  }
}

/* RainbowKit customization - deep forest */
[data-rk] {
  --rk-colors-accentColor: #173B0C;
  --rk-colors-accentColorForeground: white;
  --rk-radii-modal: 1.5rem;
  --rk-radii-menuButton: 1rem;
  --rk-radii-connectButton: 1rem;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-zinc-300 dark:bg-zinc-700 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-zinc-400 dark:bg-zinc-600;
}

/* Focus visible for accessibility */
:focus-visible {
  @apply outline-none ring-2 ring-brand-primary ring-offset-2;
  @apply ring-offset-light-bg dark:ring-offset-dark-bg;
}

/* Smooth transitions for theme switch */
html.transitioning,
html.transitioning *,
html.transitioning *::before,
html.transitioning *::after {
  transition-duration: 0ms !important;
}
